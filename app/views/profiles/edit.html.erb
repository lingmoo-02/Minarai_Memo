<% content_for(:title, t('.title')) %>
<div class="min-h-screen bg-gray-50 py-10 px-4 lg:px-8">
  <div class="container mx-auto max-w-2xl">
    <div class="bg-white rounded-xl shadow-lg p-8">
      <h1 class="text-3xl font-bold text-gray-800 mb-8">プロフィールを編集</h1>

      <%= form_with model: @user, url: profile_path, method: :put, local: true do |f| %>
        <%= render 'shared/error_messages', object: f.object %>

        <!-- メールアドレス -->
        <div class="mb-6">
          <%= f.label :email, class: "block text-lg font-semibold text-gray-700 mb-2" %>
          <%= f.email_field :email, class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent" %>
        </div>

        <!-- ユーザー名 -->
        <div class="mb-6">
          <%= f.label :name, class: "block text-lg font-semibold text-gray-700 mb-2" %>
          <%= f.text_field :name, class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent" %>
        </div>

        <!-- アバター -->
        <div class="mb-6">
          <%= f.label :avatar, class: "block text-lg font-semibold text-gray-700 mb-2" %>
          <div class="flex flex-col items-center space-y-4">
            <div class="w-32 h-32 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden">
              <%= image_tag @user.avatar.url,
                            class: 'w-full h-full object-cover',
                            id: 'preview' %>
            </div>
            <%= f.file_field :avatar, class: 'block w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent',
              accept: 'image/*' %>
            <%= f.hidden_field :avatar_cache %>
          </div>
        </div>

        <!-- 送信ボタン -->
        <div class="flex space-x-4 pt-6 border-t border-gray-200">
          <%= f.submit "保存", class: "flex-1 bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-6 rounded-lg transition ease-in-out duration-300 hover:shadow-lg" %>
          <%= link_to "キャンセル", profile_path, class: "flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-3 px-6 rounded-lg transition ease-in-out duration-300 hover:shadow-lg text-center" %>
        </div>
      <% end %>
    </div>
  </div>
</div>