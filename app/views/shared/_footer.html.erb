<% if user_signed_in? %>
  <nav class="fixed bottom-0 left-0 right-0 z-40 bg-green-200 border-t-2 border-green-300 shadow-lg" role="navigation" aria-label="フッターナビゲーション">
    <div class="container mx-auto">
      <div class="flex justify-around items-center w-full py-1">

        <!-- マイページボタン -->
        <%= link_to profile_path,
          class: "flex flex-col items-center justify-center flex-1 min-h-[56px] px-2 py-2 rounded-lg transition-all duration-200 hover:bg-green-300 active:bg-green-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 #{current_page?(profile_path) ? 'bg-green-300' : ''}",
          aria: { label: "マイページ", current: current_page?(profile_path) } do %>
          <i class="fa-solid fa-user text-lg md:text-xl text-gray-700 mb-1"></i>
          <span class="md:block text-xs font-medium text-gray-700">マイページ</span>
        <% end %>

        <!-- 通知ボタン -->
        <a href="#"
          class="flex flex-col items-center justify-center flex-1 min-h-[56px] px-2 py-2 rounded-lg transition-all duration-200 hover:bg-green-300 active:bg-green-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2"
          aria-label="通知">
          <i class="fa-solid fa-bell text-lg md:text-xl text-gray-700 mb-1"></i>
          <span class="md:block text-xs font-medium text-gray-700">通知</span>
        </a>

        <!-- チームボタン -->
        <%= link_to teams_path,
          class: "flex flex-col items-center justify-center flex-1 min-h-[56px] px-2 py-2 rounded-lg transition-all duration-200 hover:bg-green-300 active:bg-green-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 #{current_page?(teams_path) ? 'bg-green-300' : ''}",
          aria: { label: "チーム", current: current_page?(teams_path) } do %>
          <i class="fa-solid fa-users text-lg md:text-xl text-gray-700 mb-1"></i>
          <span class="md:block text-xs font-medium text-gray-700">チーム</span>
        <% end %>

        <!-- 検索ボタン -->
        <%= link_to notes_path,
          class: "flex flex-col items-center justify-center flex-1 min-h-[56px] px-2 py-2 rounded-lg transition-all duration-200 hover:bg-green-300 active:bg-green-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 #{current_page?(notes_path) ? 'bg-green-300' : ''}",
          aria: { label: "ノート検索", current: current_page?(notes_path) } do %>
          <i class="fa-solid fa-magnifying-glass text-lg md:text-xl text-gray-700 mb-1"></i>
          <span class="md:block text-xs font-medium text-gray-700">検索</span>
        <% end %>

      </div>
    </div>
  </nav>
<% else %>
  <!-- ログインしていない場合は従来のフッター -->
  <footer class="bg-green-200 mx-auto p-4 mt-20">
    <div class="container mx-auto text-right text-gray-700 p-4">見習いノート. All Rights Reserved.</div>
  </footer>
<% end %>
